import type { Services, Capabilities, Options, Frameworks } from '@wdio/types';
import type { Browser, MultiRemoteBrowser } from 'webdriverio';
import type { BrowserstackConfig, MultiRemoteAction } from './types';
export default class BrowserstackService implements Services.ServiceInstance {
    private _caps;
    private _config;
    private _sessionBaseUrl;
    private _failReasons;
    private _scenariosThatRan;
    private _failureStatuses;
    private _browser?;
    private _suiteTitle?;
    private _fullTitle?;
    private _options;
    constructor(options: BrowserstackConfig & Options.Testrunner, _caps: Capabilities.RemoteCapability, _config: Options.Testrunner);
    _updateCaps(fn: (caps: Capabilities.Capabilities | Capabilities.DesiredCapabilities) => void): void;
    beforeSession(config: Omit<Options.Testrunner, 'capabilities'>): void;
    before(caps: Capabilities.RemoteCapability, specs: string[], browser: Browser<'async'> | MultiRemoteBrowser<'async'>): Promise<void>;
    /**
     * Set the default job name at the suite level to make sure we account
     * for the cases where there is a long running `before` function for a
     * suite or one that can fail.
     * Don't do this for Jasmine because `suite.title` is `Jasmine__TopLevel__Suite`
     * and `suite.fullTitle` is `undefined`, so no alternative to use for the job name.
     */
    beforeSuite(suite: Frameworks.Suite): Promise<void>;
    beforeTest(test: Frameworks.Test): Promise<void>;
    /**
     * For CucumberJS
     */
    beforeFeature(uri: unknown, feature: {
        name: string;
    }): Promise<void>;
    /**
     * Runs before a Cucumber Scenario.
     * @param world world object containing information on pickle and test step
     */
    beforeScenario(world: Frameworks.World): Promise<void>;
    /**
     * For CucumberJS
     */
    beforeStep(step: Frameworks.PickleStep): Promise<void>;
    afterTest(test: Frameworks.Test, context: never, results: Frameworks.TestResult): void;
    after(result: number): Promise<void>;
    /**
     * For CucumberJS
     */
    afterScenario(world: Frameworks.World): void;
    onReload(oldSessionId: string, newSessionId: string): Promise<void>;
    _isAppAutomate(): boolean;
    _updateJob(requestBody: any): Promise<any>;
    _multiRemoteAction(action: MultiRemoteAction): Promise<any>;
    _update(sessionId: string, requestBody: any): import("got").CancelableRequest<import("got").Response<string>>;
    _printSessionURL(): Promise<void>;
    private _setSessionName;
    private _setAnnotation;
    private _executeCommand;
}
//# sourceMappingURL=service.d.ts.map